<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
       function getUrlParam(sUrl, sKey) {
            let arr1 = sUrl.split('?')[1].split('#')[0]
            let arr = arr1.split('&');
            if(sKey){
            let newArr = [];
                arr.forEach(item =>{
                    if(item.split('=')[0] == sKey){
                        newArr.push(item.split('=')[1]);
                    }
                })
                
                if(newArr.length === 1){
                    return newArr[0];
                }else if(newArr.length == 0){
                    return ''
                } else {
                    return newArr;
                }
            }else {
                if(!arr1){
                    return {};
                }else {
                    let obj = {};
                   arr.forEach(item =>{ 
                       if(!(item.split('=')[0] in obj)){
                           obj[item.split('=')[0]] = []
                       }
                   obj[item.split('=')[0]].push(item.split('=')[1])
                })
                console.log(obj,'obj')
                return obj; 
                }
                
            }
}
        let arr = getUrlParam('http://www.nowcoder.com?key=1&key=2&key=3&test=4#hehe');
        console.log(arr,'arr');
    </script>
</body>
</html>